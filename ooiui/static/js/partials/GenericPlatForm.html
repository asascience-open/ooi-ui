<%
    var image;

    switch (siteInfo.refDes.substr(0,8)) {
        case 'GS01SUMO':
            image = '/img/platform/southern_ocean/southern_surface.png';
            break;
        case 'GS02HYPM':
            image = '/img/platform/southern_ocean/southern_profiler.png';
            break;
        case 'GS03FLMA':
        case 'GS03FLMB':
            image = '/img/platform/southern_ocean/southern_flanking.png';
            break;

        case 'CE01ISSP':
        case 'CE01ISSM':
            image = '/img/platform/coastal_endurance/endurance_or_is_surface.png';
            break;
        case 'CE02SHBP':
            image = '/img/platform/coastal_endurance/endurance_or_shelf_benthic_package.png';
            break;
        case 'CE02SHSM':
            image = '/img/platform/coastal_endurance/endurance_or_shelf_surface.png';
            break;
        case 'CE04OSBP':
            image = '/img/platform/coastal_endurance/endurance_or_os_benthic_package.png';
            break;
        case 'CE04OSSM':
            image = '/img/platform/coastal_endurance/endurance_or_os_surface.png';
            break;
        case 'CE06ISSM':
            image = '/img/platform/coastal_endurance/endurance_wa_is_surface.png';
            break;
        case 'CE07SHSM':
            image = '/img/platform/coastal_endurance/endurance_wa_shelf_surface.png';
            break;
        case 'CE09OSPM':
            image = '/img/platform/coastal_endurance/endurance_wa_os_profiler.png';
            break;
        case 'CE09OSSM':
            image = '/img/platform/coastal_endurance/endurance_wa_os_surface.png';
            break;

        case 'CP01CNSM':
            image = '/img/platform/coastal_pioneer/CP_Central_Surface_Mooring.png';
            break;
        case 'CP02PMCI':
            image = '/img/platform/coastal_pioneer/CP_Central_Inshore_Profiler_Mooring.png';
            break;
        case 'CP02PMCO':
            image = '/img/platform/coastal_pioneer/CP_Central_Offshore_Profiler_Mooring.png';
            break;
        case 'CP02PMUI':
            image = '/img/platform/coastal_pioneer/CP_Upstream_Inshore_Profiler_Mooring.png';
            break;
        case 'CP02PMUO':
            image = '/img/platform/coastal_pioneer/CP_Upstream_Offshore_Profiler_Mooring.png';
            break;
        case 'CP03ISSM':
            image = '/img/platform/coastal_pioneer/CP_Inshore_Surface_Mooring.png';
            break;
        case 'CP04OSPM':
            image = '/img/platform/coastal_pioneer/CP_Offshore_Profiler_Mooring.png';
            break;
        case 'CP04OSSM':
            image = '/img/platform/coastal_pioneer/CP_Offshore_Surface_Mooring.png';
            break;

        case 'GA01SUMO':
            image = '/img/platform/argentine/argentine_surface.png';
            break;
        case 'GA012HYPM':
            image = '/img/platform/argentine/argentine_profiler.png';
            break;
        case 'GA03FLMA':
        case 'GA03FLMB':
            image = '/img/platform/argentine/argentine_flanking.png';
            break;

        case 'GI01SUMO':
            image = '/img/platform/irminger/irminger_surface.png';
            break;
        case 'GI012HYPM':
            image = '/img/platform/irminger/irminger_profiler.png';
            break;
        case 'GI03FLMA':
        case 'GI03FLMB':
            image = '/img/platform/irminger/irminger_flanking.png';
            break;

        case 'GP012HYPM':
            image = '/img/platform/station_papa/papa_profiler.png';
            break;
        case 'GP03FLMA':
        case 'GP03FLMB':
            image = '/img/platform/station_papa/papa_flanking.png';
            break;

        default:
            if (siteInfo.refDes.indexOf('MOAS') !== -1) {
                image = '/img/platform/mobile/glider.png';
            } else {
                image = 'none';
            }
    }
%>

<div id="platform-view-content">
    <h2><%= siteInfo.site %><small> (<%= siteInfo.refDes %>)</small></h2>
    <h3><small>Click an assembly to view it's instruments</small></h3>
    <div class="row">
        <div class="col-md-7">
            <% _.each(collection, function(model) { %>
                <div class="panel">
                    <div class="panel-heading" >
                        <h4 class="js-expand" data-target="#<%= model.refDes.substr(9,14) %>"><%= model.name || model.refDes.substr(9,14) %><small> <%= (model.name) ? '(' + model.refDes.substr(9,14) + ')' :"" %></small><i class="fa fa-chevron-down pull-right"></i></h4>
                    </div>
                    <div id="<%=  model.refDes.substr(9,14) %>" class="panel-body" style="display: none;">
                        <table id="<%= model.refDes %>" class="table table-default">
                            <thead>
                                <tr>
                                    <th>Instrument</th>
                                    <th>Design Depth</th>
                                    <th>Start Time</th>
                                    <th>End Time</th>
                                    <th>Plot</th>
                                    <th>Data Catalog</th>
                                    <th>Asset Management</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            <% }); %>
        </div>
        <% if (image !== 'none') { %>
        <div class="col-md-4 col-md-offset-right-1">
            <img src="<%= image %>" width="100%">
        </div>
        <% } %>
    </div>
</div>
