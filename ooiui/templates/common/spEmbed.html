
{% extends "common/base.html" %}

{% block title %}
{% endblock %}

{% block head %}
  <link rel="stylesheet" href="/css/compiled/FAQ.css" type="text/css" />
  <!-- Partials -->
  <script src="/js/partials/compiled/FAQ.js" type="text/javascript"></script>
  <script src="/js/compiled/FAQ.js" type="text/javascript"></script>

{% endblock %}

{% block body %}

<div id='nav'></div> 
   <div id="page-content-wrapper">
    <div class="container-fluid">

<style type="text/css" media="screen">
    textarea {
        display: block;
        margin: auto;
        width: 100%;
        height: 5px;
    }
    #editor_div {
        display: block;
        margin: auto;
        width: 100%;
        height: 600px;
        border: 1px solid #888;
    }
    form {
        text-align: center;
    }
</style>
<div id="editor_div"> </div>

<form action="/config_file" method="post" enctype="multipart/form">
<input type="submit" value="Submit" id='submit' >
<br>
<textarea type ="file"name="editor"><%= @text %></textarea>
</form>
</pre>

<script src="/js/core/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var textarea = $('textarea[name="editor"]');
    textarea.hide();
    var editor = ace.edit("editor_div");
    //editor.setTheme("ace/theme/github");
    editor.getSession().setMode("ace/mode/text");
    editor.getSession().setUseWrapMode(true)
    $(document).ready(function() {
        $.ajax({
          url : "/config_file",
          dataType: "text",
          success :function (data) {
          editor.setValue(data)
          }
          });
        });
       $('#submit').click( function() {
        var text = textarea.val(editor.getValue());
    });
</script>
       </div>
    </div>
  </div>

<script type="text/javascript">

_.extend(OOI.prototype, Backbone.Events, {
  //login: new LoginModel(),
  //models: {
  //mapModel: new MapModel()
  
  //},
  collections: {
     },
  views: {

  },
  start: function() {
    var self = this;


    //this.login.fetch({async: false}); // Doesn't actually make an ajax request

    //--------------------------------------------------------------------------------
    // Views
    //--------------------------------------------------------------------------------
    this.views.navbar = new NavbarView();
    $('body').append(this.views.navbar.el);

   }
});
var ooi = new OOI();
$(document).ready(function() {
    ooi.start();
    $('body').find('#hideTOC').hide()
});
</script>
{% endblock %}

