{% extends "common/base.html" %}

{% block title %}
<title>Pioneer Array</title>
{% endblock %}

{% block beforebootstrap %}

{% endblock %}

{% block head %}
<link rel="stylesheet" href="/css/compiled/basic.css" type="text/css" />
<link rel="stylesheet" href="/css/common/pioneerArray.css" type="text/css" />
<!-- Partials -->
<script src="/js/partials/compiled/pioneerArray.js" type="text/javascript"></script>
<script src="/js/compiled/pioneerArray.js" type="text/javascript"></script>
<script src="js/pioneerArrayJS.js" type="text/javascript"></script>


{% endblock %}

{%block body %}
<div id="wrapper">
  <div id="sidebar-wrapper" class="navbar-default">
  </div><!-- sidebar-wrapper -->

  <div id="menu-row" class="row">
    <div class="col-lg-12">
      <h3 align="center">Pioneer Array</h3>
    </div><!-- col-lg-12 -->
  </div><!-- menu-row -->

  <div class="row">
    <div class="col-sm-4">
      <div class="container-fluid">

        <em class="disclamer">Disclaimer: All data are subject to revision without notice; exact locations of mooring sites are not yet finalized; exact depths of sensors will be determined at the time of deployment.</em></strong>
      </div>

    </div>


    <div class="col-sm-8">
    </div>
  </div>

  <div class="col-sm-4">
    <div class="container-fluid">

      <div id="page-wrap">
        <h2>Location and Sampleing</h2>
        <div class="info-col curCol">
          <a class="location" href="">Image</a>
          <dl>
            <dt>Location, Central Mooring</dt>
            <dd>

              <dl style="list-style-type:disk">
                <br />
                <li>
                  40.14°N, 70.78°W
                </li>
              </dl>
            </dd>
            <dt>Approximate Water Depth</dt>
            <dd>
              <dl style="list-style-type:disk">
                <br />
                <li>
                  133 meters at center of moored array
                </li>
              </dl>
            </dd>
            <dt>AUV sampling at center of moored array</dt>
            <dd>

              <dl style="list-style-type:disk">
                <br />
                <li>
                  80 x 110 km box centered on moored array
                </li>
              </dl>
              <br />
              <dl style="list-style-type:disk">
                <li>
                  Box Corners:
                </li>
                <dl style="list-style-type:circle; padding-left: 20px;">
                  <li>SE: 39.67°N, 70.25°W</li>
                  <li>SW: 39.67°N, 71.17°W</li>
                  <li>NW: 40.67°N, 71.17°W</li>
                  <li>NE: 40.67°N, 70.25°W</li>
                </dl>
              </dl>
            </dd>
            <dt>Glider sampling area (approximate)</dt>
            <dd>

              <dl style="list-style-type:disk">
                <br />
                <li>
                  130 x 185 km box over outer shelf and slope sea
                </li>
              </dl>
              <br />
              <dl style="list-style-type:disk">
                <li>
                  Gliders will sample along five tracks off the coast of New England
                  (click here for map) <– LINK TO CP_Glider_Tracks_2014-09-15.png
                </li>
              </dl>
              <br />
              <dl style="list-style-type:disk">
                <li>
                  Box Corners:
                </li>
                <dl style="list-style-type:circle; padding-left: 20px;">
                  <li>SE: 39.00°N, 69.92°W</li>
                  <li>SW: 39.00°N, 71.50°W</li>
                  <li>NW: 40.67°N, 71.50°W</li>
                  <li>NE: 40.67°N, 69.92°W</li>
                </dl>
              </dl>
              <br />
              <dl>
                <p>
                  <a href="http://oceanobservatories.org/wp-content/uploads/2011/04/Pioneer_Array_Config_SER_Feb2013_wLegend.png"
                  target="_blank">Final Pioneer Mooring Array Configuration (plan view)</a>
                  <br />
                  Nominal latitude and longitude, approximate depths, and distances
                  between mooring sites can be viewed in the plan view figure
                  linked below.  Contours are marked in fathoms, mooring site
                  centers are marked by a black “+” and encircled by an approximate
                  0.5-nautical mile radius buffer zone (voluntary area to avoid).
                  Distances between buffer zones are shown between arrows.  Red “X”
                  symbols denote the locations of know “hangs” avoided by mobile-gear
                  fishermen.
                </p>
              </dl>
            </dd>
          </div>
        </div>



      </div><!-- container-fluid -->
    </div><!-- col-sm-4 -->
    <div class="col-sm-8">
      content
    </div><!-- col-sm-8 -->

  </div><!-- wrapper -->













  <script type="text/javascript">
  /*
  * OOI is the main class that we extend from to create behavior and render pages.
  *
  * Here we create the application by extending OOI with Backbone.Events, this
  * gives us the ability to listen to events from models and/or views. When we
  * hear these events the main application can then trigger another view to
  * render, or in this case cause a collection to be fetched as a result.
  */

  _.extend(OOI.prototype, Backbone.Events,  {
    login: new LoginModel(),
    // Models and collections
    collections: {
      // Instantiate a new Organizations collection
      organizations: new Organizations(),
      // watches is the Watch collection, by default is un-fetched
      watches: new Watches(),
      //events: new Events(),
      events: new EventsCollection(),
      operatorEventTypes: new OperatorEventTypeCollection()
    },
    models: {
      //userModel: new UserModel()
    },
    views: {
    },
    start: function() {
      this.login.fetch({async:false});
      this.collections.operatorEventTypes.fetch();
      this.views.navbar = new NavbarView();
      this.views.navbar.sidebarToggle();
      $('body').prepend(this.views.navbar.el);

      if(this.login.loggedIn()) {
        this.models.userModel.fetch({url: '/api/current_user'});
      }

      this.views.orgSidebarView = new OrgSidebarView({
        collection: this.collections.organizations,
        userModel: this.models.userModel
      });
      $('#sidebar-wrapper').html(this.views.orgSidebarView.el);

      this.eventListeners();
    },
    eventListeners:function() {
      this.listenTo(this, "login:success", this.onLogin);
      this.listenTo(this, "login:logout", this.onLogout);
      //this.listenTo(this, 'watchview:newwatch', this.newWatch);
    },

    onLogin: function() {
      location.reload();
    },
    onLogout: function() {
      location.reload();
    },
    /*
    * orgSelection is called by the event listener for org:click. The trigger
    * from the OrgSidebarView passes the organization_id in as a parameter. With
    * this we can cause the WatchView to re-render with the new watches we'll
    * fetch, using the organization_id as a query parameter.
    */
    /*orgSelection: function(organization_id) {
    this.models.orgModel.set({id: organization_id});
    this.models.orgModel.fetch();
    // We have selected a new organization, so now we need to update the watch
    // GET /api/watch?organization_id=<organization_id>
    this.collections.watches.fetch({
    data: $.param({organization_id: organization_id}),
  });
  this.collections.events.reset();
  // Note: the watchview has an event listener that listens for sync events
  // from this collection, so when the feth completes, the event will trigger
  // and the watch view will re-render with the new watches.
}*/

});
// Instantiate the application for this page
var ooi = new OOI();

$(document).ready(function() {
  // Once the DOM is loaded, we start our application
  ooi.start();
});
</script>

{% endblock %}
